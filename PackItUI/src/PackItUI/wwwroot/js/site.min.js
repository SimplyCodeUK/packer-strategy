function closest(n,t){for(var i=n.parentNode;i!=null;){if(i.nodeName===t)return i;i=i.parentNode}return i}function deleteRow(n){closest(n,"TABLE").deleteRow(closest(n,"TR").rowIndex)}function addRow(n,t){var r=closest(n,"TABLE").getElementsByTagName("TBODY")[0],u=r.getElementsByTagName("tr").length,i=new XMLHttpRequest;i.onload=function(){i.readyState===4&&i.status===200&&r.insertAdjacentHTML("beforeend",i.responseText)};i.open("POST",t,!0);i.setRequestHeader("Content-Type","application/json;charset=UTF-8");i.send(JSON.stringify({index:u}))}