sudo: required
dist: trusty
language: csharp
solution: PackIt.sln

mono:
  - latest
  - 5.2.0

dotnet: 2.0.0

env:
  - CONFIG=Debug
  - CONFIG=Release

install:
  - nuget restore PackIt.sln
  - dotnet restore PackIt.sln

script:
  - msbuild /p:Configuration=$CONFIG /t:rebuild PackIt.sln
  - dotnet test PackIt/test/PackItTest/PackItTest.csproj --configuration $CONFIG --no-build --logger:trx
  - dotnet pack PackIt/src/PackIt/PackIt.csproj --configuration $CONFIG
  - dotnet pack PackIt/test/PackItTest/PackItTest.csproj --configuration $CONFIG
  - dotnet pack PackItLib/src/PackItLib/PackItLib.csproj --configuration $CONFIG
  - dotnet pack PackItUI/src/PackItUI/PackItUI.csproj --configuration $CONFIG

notifications:
  slack: simplycodeuk:FZI8WzeengkGv5LI7WQSCrJs
